<uik-modal (closed)="closed.emit()">
  <ng-container title>Roles</ng-container>
  <ng-container content>
    <ng-container *ngIf="!inProgress?.loading; else loaderTmp">
      <uik-checkbox-group required [formControl]="rolesControl" [list]="allRoles">
      </uik-checkbox-group>
    </ng-container>
  </ng-container>
  <ng-container buttons>
    <button type="button" class="cancel-button" (click)="closed.emit()">Cancel</button>
    <button
      type="submit"
      class="assign-button"
      [ngClass]="{ 'assign-button--disabled': rolesControl.invalid }"
      [disabled]="rolesControl.invalid"
      (click)="assigned.emit(rolesControl.value)">
      <ng-container *ngIf="inProgress?.assigning">
        <ng-container *ngTemplateOutlet="buttonLoaderTmp"></ng-container>
      </ng-container>
      Assign
    </button>
  </ng-container>
</uik-modal>

<ng-template #loaderTmp>
  <div class="loader">
    <i class="loader__icon loader-blue" inlineSVG="assets/svg/loader.svg"></i>
  </div>
</ng-template>

<ng-template #buttonLoaderTmp>
  <i class="button-loader loader-blue" inlineSVG="assets/svg/loader.svg"></i>
</ng-template>
